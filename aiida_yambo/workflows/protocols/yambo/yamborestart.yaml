default_inputs:
    clean_workdir: False
    meta_parameters:
        ratio_bands_electrons: 25
        ratio_PW_cutoff: 0.1
    yambo:
        metadata:
            options:
                resources:
                    num_machines: 1
                    num_mpiprocs_per_machine: 16
                    num_cores_per_mpiproc: 1
                max_wallclock_seconds: 43200  # Twelve hours
                withmpi: True
        parameters:
            arguments: [
            'dipoles', 
            'ppa', 
            'HF_and_locXC',
            'gw0'
            ]
            variables: {
            'Chimod': 'hartree',
            'DysSolver': 'n',
            'GTermKind': 'BG',
            'PAR_def_mode': 'balanced',
            }
default_protocol: GW_fast
protocols:
    GW_fast:
        description: 'GW Protocol, under converged for most materials, but fast'
    GW_moderate:
        description: 'GW Protocol, meta converged for most materials, higher computation cost than GW_fast'
        meta_parameters:
            ratio_bands_electrons: 50
            ratio_PW_cutoff: 0.2
    BSE_fast:
        description: 'BSE protocol, under converged for most materials, but fast'
        meta_parameters:
            cutoff_VBM: 2
            cutoff_CBm: 2
            cutoff_description: 'the energy cutoff for valence and conduction bands, in eV'
            cutoff_units: 'eV'
            ratio_PW_cutoff: 0.1
        parameters:
            arguments: [
            'dipoles',
            'bse',
            'bss',
            'em1s',
            'optics',
            ]
            variables: [
            'BSEmod': 'resonant',
            'BSKmod': 'SEX',
            'BSSmod': 'd',
            'Lkind': 'full',
            'Chimod': 'hartree',
            'BEnRange': [[0.0, 20.0],'eV'],
            'BSEQptR': [[1, 1],''],
            'BDmRange': [[0.1, 0.1],'eV'],
            'DysSolver': "n",            
            'PAR_def_mode': 'balanced',
            ]
    BSE_moderate:
        description: 'BSE protocol, meta converged for most materials, higher computation cost than BSE_fast'
        meta_parameters:
            cutoff_VBM: 4
            cutoff_CBm: 4
            cutoff_description: 'the energy cutoff for valence and conduction bands, in eV'
            cutoff_units: 'eV'
            ratio_PW_cutoff: 0.2
        parameters:
            arguments: [
            'dipoles',
            'bse',
            'bss',
            'em1s',
            'optics',
            ]
            variables: [
            'BSEmod': 'resonant',
            'BSKmod': 'SEX',
            'BSSmod': 'd',
            'Lkind': 'full',
            'Chimod': 'hartree',
            'BEnRange': [[0.0, 20.0],'eV'],
            'BSEQptR': [[1, 1],''],
            'BDmRange': [[0.1, 0.1],'eV'],
            'DysSolver': "n",            
            'PAR_def_mode': 'balanced',
            ]